created: 20170819091658100
creator: chitselb
modified: 20170819091658100
modifier: chitselb
tags: static default [[with space]]
title: About PETTIL




<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

!!PETTIL
datetimestamp

!!![[Personal Electronics Transactor Threaded Interpreted Language|http://pettil.tumblr.com]]
!!![[(A Forth-like language for my venerable Commodore PET 2001N)|http://github.com/chitselb/pettil]]

<<<
!!!ven-er-a-ble (adj.)
 3a : calling forth respect through age, character and attainments &lt;a venerable jazz musician&gt;; broadly : conveying an impression of aged goodness and benevolence &lt;encouraged by the venerable doctor's head-nodding&gt;
<<< Merriam Webster Dictionary
!!Origins
Back in 1977, my high school had a few tiny (4K & 8K; cassette tape storage
and BASIC) Wang 2200 computers.  I was instantly hooked.  Two years later, my
senior year, I changed high schools.  There was a TRS-80 Model I (with Level 2
BASIC!).  The staff at Delta College in Saginaw permitted me to use the DEC
PDP-11, and I had a TI-59 programmable calculator.  I was on that like ducks
on bugs.

Also that year, I bought a PET 2001-16N.  Originally it came from Newman Computer
Exchange in Ann Arbor, MI.  I bought it second-hand from a friend for $1250.  I
later upgraded it to BASIC4 and 32K.  The photo on the
[[project tumblr blog|http://pettil.tumblr.com]]
is that very same PET, serial number 700251.

In 1981 I worked at ~ComputerLand Tysons Corner for several months, just
prior to and after the introduction of the original IBM PC model 5150. While
working at ~ComputerLand I picked up a copy of R.G. Loeliger's book, "Threaded
Interpretive Languages." That was my introduction to the Forth programmling
language.  The Loeliger book taught me three things:

# How to bootstrap Forth on a Z-80 (I never did finish this)
# That I could probably write my own Forth.
# Forth doesn't need to conform exactly to any specific standards

Some of my favorite attributes of the Forth programming language:

* Forth is written in Forth
* Virtual memory
* Structured code
* Pronounceable
* Can also be cross-compiled to other architectures
* Forth is an operating system
* Concise, direct code
* Stack-based, uses RPN
* Interfaces are consistent and simple, no data types
* Interactive
* Programs are `words` in a `dictionary`
* Fast
* `Words` may be grouped in `vocabularies`
* Written by one guy (Charles H. Moore)
* Enthusiastic developer community
* Easily adapted to strange, new hardware
* Built-in Assembler
* Built-in full screen Editor
* Compact
* Portable
* Ideally suited to small machines
* Very little error checking
* No file system, only blocks
* Define new defining (parent/child) `words` with  `<builds` ... `does>`
* Creating and testing code go on simultaneously
* No syntax (other than whitespace between `words`)
* Modular
* A thesaurus is a handy programming tool
* Programming becomes evolving a new language around the problem space
* The Forth system itself can be hacked (in the pre-1983 sense of that term)
* `Words` are typically small and more easily grokked
* `Words` only have two flavors, `primitive` and `secondary`

Also, back then, I had an idea for a videogame, and I needed something better
than Microsoft BASIC.

For a time (1984-1985) I worked as a Forth programmer on MMSForth for the
TRS-80&nbsp;Model&nbsp;4.  During the late '80s I explored and coded quite
a bit in Blazin' Forth on the Commodore 64.

I have spared no effort to bring you this Forth for the Commodore PET.  The
Forth-83 standard forms the basis of PETTIL, with some slight deviations along
the way.  In it, I have tried to embrace the Commodore PET hardware and
ROM environment in as many ways as I could think of.  The [[PETTIL screen editor|Editor Commands]]
will feel very much like the PET BASIC editor, because that's exactly what it
is!  You get a typical Forth development environment with interpreter,
compiler, editor and assembler.

These are some of the things that distinguish PETTIL:

!! Features
* Virtual memory on cassette tape
* Direct threaded model (FIG, Blazin' are indirect-threaded)
* 15 clock cycles [[NEXT|Inner Interpreter]] routine!
* [[Split data stack|Split Data Stack]] on zero page
* Many hand-coded primitives
* Built-in 6502 assembler features Woz's SWEET-16
* Source code editor leverages the PET's screen editor
* PETSCII graphic characters may be used as word names
* Tweaks and optimizations everywhere to save clocks and bytes
* Small core dictionary leaves 25K RAM for turnkey application development
* Symbol table and development environment not required at runtime
* Bloom filter and Pearson hash to speed dictionary searches and compilation
